'using strict';
module.exports = DefaultEventTypesFactory

var ParameterCountError = require('../errors').ParameterCountError,
    EventFactory = require('./event-factory'),
    Event = require('../event')

// TODO: write tests to make this make sense
// we'll take in a list of trigger names for which 
// this factory is responsible for generating events.
// all events generated by this factory will have the
// same event handlers.
function DefaultEventTypesFactory() {
  
}

DefaultEventTypesFactory.prototype = Object.create(EventFactory.prototype)
DefaultEventTypesFactory.prototype.constructor = DefaultEventTypesFactory

DefaultEventTypesFactory.prototype.record = function () {
  if(this.constructor.name === 'DefaultEventTypesFactory') {
    throw new Error('This method is only stored here; it should be copied to an Event object for actual use.') 
  }
  
  this.startTime = new Date().now
}
DefaultEventTypesFactory.prototype.save = function () {
  if(this.constructor.name === 'DefaultEventTypesFactory') {
    throw new Error('This method is only stored here; it should be copied to an Event object for actual use.') 
  }
  
  this.endTime = new Date().now
}
// TODO: add user id generation. perhaps to EventFactory prototype?
DefaultEventTypesFactory.prototype.generate = function () {
  var event = new Event()
  event.save = this.save
  event.record = this.record
  return event
}